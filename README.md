# smart_rag

智能RAG检索系统，集成知识库管理、文档处理、准确率评估等功能。

## 技术架构

### 后端
- **框架**：FastAPI
- **ORM**：SQLAlchemy
- **数据库**：PostgreSQL
- **核心功能**：
  - RAG检索与生成
  - 知识库管理
  - 文档处理与存储
  - 准确率评估系统

### 前端
- **框架**：Vue 3
- **状态管理**：Pinia
- **UI库**：Element Plus
- **构建工具**：Vite
- **核心功能**：
  - 响应式界面设计
  - 知识库管理
  - 文档上传与预览
  - 准确率评估配置与结果查看

## 核心功能

### 1. 知识库管理
- 创建、编辑、删除知识库
- 上传文档到指定知识库
- 支持多种文档格式

### 2. 文档管理
- 按文件名和创建日期筛选文档
- 支持分页查看（每页10条）
- 点击文件名查看文档内容
- 文档上传状态提示

### 3. 准确率评估系统
- 创建评估方案并关联知识库
- 支持选择问题和答案进行评估
- 查看评估结果和详细报告
- 评估历史记录管理

### 4. RAG检索功能
- 基于知识库的智能问答
- 上下文感知的回答生成
- 引用来源文档

## 安装与设置

### 后端设置
1. 进入后端目录
   ```bash
   cd backend
   ```

2. 安装依赖
   ```bash
   pip install -r requirements.txt
   ```

3. 启动后端服务
   ```bash
   python app/main.py
   ```

### 前端设置
1. 进入前端目录
   ```bash
   cd frontend
   ```

2. 安装依赖
   ```bash
   npm install
   ```

3. 启动开发服务器
   ```bash
   npm run dev
   ```

## API文档

### 后端API端点

#### 文档管理
- `GET /document/list/{kb_id}` - 获取文档列表（支持过滤和分页）
  - 参数：
    - `kb_id`：知识库ID
    - `filename`：文件名过滤（可选）
    - `created_from`：创建日期起始（可选）
    - `created_to`：创建日期结束（可选）
    - `page`：页码（默认1）
    - `page_size`：每页条数（默认10）

#### 评估管理
- `POST /evaluation/create` - 创建评估方案
- `GET /evaluation/list` - 获取评估列表（支持过滤和分页）

## 使用示例

### 1. 上传文档到知识库
1. 登录系统
2. 进入「文档管理」页面
3. 选择目标知识库
4. 点击「上传文档」按钮
5. 选择本地文件并上传
6. 查看上传状态和结果

### 2. 创建评估方案
1. 进入「评估管理」页面
2. 点击「创建评估方案」按钮
3. 选择关联的知识库
4. 配置评估参数
5. 提交创建

### 3. 执行RAG检索
1. 进入「智能问答」页面
2. 选择目标知识库
3. 输入问题
4. 查看系统生成的回答和引用来源

## UI功能与改进

### 1. 响应式设计
- 适配不同屏幕尺寸
- 优化移动端体验

### 2. 用户反馈
- 操作成功/失败的对话框提示
- 上传进度显示
- 错误信息的友好展示

### 3. 交互体验
- 下拉框选择知识库（支持长英文名称）
- 文档内容预览
- 平滑的页面过渡效果

## 项目结构

### 后端结构
```
backend/
├── app/
│   ├── api/            # API路由
│   ├── core/           # 核心功能
│   ├── models/         # 数据库模型
│   ├── schemas/        # 数据验证
│   └── main.py         # 应用入口
└── requirements.txt    # 依赖文件
```

### 前端结构
```
frontend/
├── src/
│   ├── api/            # API调用
│   ├── components/     # 组件
│   ├── stores/         # 状态管理
│   ├── types/          # 类型定义
│   ├── views/          # 页面
│   └── main.ts         # 应用入口
├── package.json        # 项目配置
└── vite.config.ts      # Vite配置
```

## 技术栈

### 后端
- Python 3.9+
- FastAPI
- SQLAlchemy
- Pydantic

### 前端
- TypeScript
- Vue 3
- Pinia
- Element Plus
- Axios

## 未来规划

- [ ] 支持更多文档格式
- [ ] 优化RAG检索算法
- [ ] 添加用户权限管理
- [ ] 实现多语言支持
- [ ] 增加更多评估指标
- [ ] 优化系统性能

## 贡献

欢迎提交Issue和Pull Request来改进这个项目。

## 许可证

MIT License